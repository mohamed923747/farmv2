@echo off
chcp 65001 >nul
title ูุธุงู ุฅุฏุงุฑุฉ ูุฒุงุฑุน ุงูุฏูุงุฌู - ุงููุธุงู ุงููุงูู ูุน ุงููุณุชุฎุฏููู
color 0A

echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo      ๐ ูุธุงู ุฅุฏุงุฑุฉ ูุฒุงุฑุน ุงูุฏูุงุฌู - ุงููุธุงู ุงููุงูู ูุน ุงููุณุชุฎุฏููู
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.

echo ๐ ุงูุชุญูู ูู ูุฌูุฏ Node.js...
node --version >nul 2>&1
if %errorlevel% neq 0 (
    echo โ Node.js ุบูุฑ ูุซุจุช ุนูู ุงููุธุงู
    echo.
    echo ๐ฅ ูุฑุฌู ุชุญููู ูุชุซุจูุช Node.js ูู:
    echo    https://nodejs.org/
    echo.
    echo ๐ ุจุนุฏ ุงูุชุซุจูุชุ ูู ุจุชุดุบูู ูุฐุง ุงูููู ูุฑุฉ ุฃุฎุฑู
    echo.
    pause
    exit /b 1
)

echo โ Node.js ูุซุจุช ุจูุฌุงุญ
node --version
echo.

echo ๐ฆ ุงูุชุญูู ูู ุงูููุชุจุงุช ุงููุทููุจุฉ...
if not exist "node_modules" (
    echo โ๏ธ  ุงูููุชุจุงุช ุบูุฑ ูุซุจุชุฉ
    echo ๐ง ุชุดุบูู ุชุซุจูุช ุงูููุชุจุงุช...
    call install-dependencies.bat
    echo.
)

echo ๐ ูุชุญ ุงููููุน ูู ุงููุชุตูุญ...
timeout /t 2 >nul
start "" "http://localhost:3000"

echo.
echo ๐ ุจุฏุก ุชุดุบูู ุฎุงุฏู ุงููุธุงู ุงููุงูู...
echo.
echo ๐ ููููู ุงููุตูู ูููููุน ุนุจุฑ ุงูุฑูุงุจุท ุงูุชุงููุฉ:
echo    ๐ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ: http://localhost:3000
echo    ๐ ุชุณุฌูู ุงูุฏุฎูู: http://localhost:3000/login
echo    ๐ ุฅูุดุงุก ุญุณุงุจ: http://localhost:3000/register
echo    ๐ผ ููุญุฉ ุงูุชุญูู: http://localhost:3000/dashboard
echo    ๐ ูุธุงู ุงููุฒุฑุนุฉ: http://localhost:3000/farm-system
echo.
echo ๐ ูููู ุงููุตูู ูููููุน ูู ุฃู ุฌูุงุฒ ูู ููุณ ุงูุดุจูุฉ ุนุจุฑ:
echo    http://[ุนููุงู-ุงูุฌูุงุฒ]:3000
echo.
echo โน๏ธ  ูุฅููุงู ุงูุฎุงุฏู ุงุถุบุท Ctrl+C
echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.

:: ุชุดุบูู ุงูุฎุงุฏู
node web-server.js

echo.
echo ๐ ุชู ุฅููุงู ุงูุฎุงุฏู
pause